<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> String 踩坑 · 陈俊生的正经博客</title><meta name="description" content="String 踩坑 - Jason Chen"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://hentaicracker.com/atom.xml" title="陈俊生的正经博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/blog.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/tag/" target="_self" class="nav-list-link">分类</a></li><li class="nav-list-item"><a href="http://weibo.com/shenggegege" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/hentaicracker" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS订阅</a></li><li class="nav-list-item"><a href="http://hentaicracker.github.io/share/aboutme.html" target="_blank" class="nav-list-link">关于我</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">String 踩坑</h1><div class="post-info">2017年7月10日</div><div class="post-content"><p>整理 String 实例方法以及一些需要注意的点.</p>
<a id="more"></a>
<h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><ul>
<li><h4 id="toString-string"><a href="#toString-string" class="headerlink" title="toString(): string;"></a>toString(): string;</h4></li>
</ul>
<p>String 对象覆盖了 Object 对象的 toString 方法,该方法返回该对象的字符串形式,和 String.prototype.valueOf() 方法返回值一样.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.toString(); <span class="comment">// 'something'</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="charAt-pos-number-string"><a href="#charAt-pos-number-string" class="headerlink" title="charAt(pos: number): string;"></a>charAt(pos: number): string;</h4></li>
</ul>
<p>charAt 方法返回一个字符串中指定的字符.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.charAt(<span class="number">0</span>); <span class="comment">// 's'</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="charCodeAt-index-number-number"><a href="#charCodeAt-index-number-number" class="headerlink" title="charCodeAt(index: number): number;"></a>charCodeAt(index: number): number;</h4></li>
</ul>
<p>charCodeAt 方法返回给定索引处字符的 UTF-16 代码单元值的数字；如果索引超出范围,则返回 NaN.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.charCodeAt(<span class="number">0</span>); <span class="comment">// 115, 's'的 unicode 值.</span></div><div class="line">str.charCodeAt(<span class="number">9</span>); <span class="comment">// NaN</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="concat-…strings-string-string"><a href="#concat-…strings-string-string" class="headerlink" title="concat(…strings: string[]): string;"></a>concat(…strings: string[]): string;</h4></li>
</ul>
<p>concat 方法将一个或多个字符串与原字符串连接合并，并返回一个新的字符串。concat 方法并不影响原字符串。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.concat(<span class="string">' is'</span>, <span class="string">' wrong'</span>); <span class="comment">// 'something is wrong'.</span></div><div class="line">str; <span class="comment">// 'something'</span></div></pre></td></tr></table></figure>
<p>尽量使用 + 赋值操作符代替 concat 方法以提高性能.</p>
<ul>
<li><h4 id="indexOf-searchString-string-position-number-number"><a href="#indexOf-searchString-string-position-number-number" class="headerlink" title="indexOf(searchString: string, position?: number): number;"></a>indexOf(searchString: string, position?: number): number;</h4></li>
</ul>
<p>indexOf 方法返回调用 String 对象中第一次出现的指定值的索引，从 position 开始<strong>从左向右</strong>进行搜索。</p>
<p>如果未找到该值，则返回-1。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.indexOf(<span class="string">'some'</span>); <span class="comment">// 0</span></div><div class="line">str.indexOf(<span class="string">'Some'</span>); <span class="comment">// -1, 区分大小写</span></div><div class="line">str.indexOf(<span class="string">'me'</span>, <span class="number">0</span>); <span class="comment">// 2</span></div><div class="line">str.indexOf(<span class="string">'me'</span>, <span class="number">5</span>); <span class="comment">// -1</span></div><div class="line">str.indexOf(<span class="string">'me'</span>, <span class="number">-1</span>); <span class="comment">// 2, 如果 position &lt; 0 则查找整个字符串（如同传进了 0）</span></div><div class="line">str.indexOf(<span class="string">''</span>, <span class="number">8</span>); <span class="comment">// 8</span></div><div class="line">str.indexOf(<span class="string">''</span>, <span class="number">9</span>); <span class="comment">// 9, 如果 position &gt;= str.length,且被查找的字符串是一个空字符串，此时返回 str.length</span></div><div class="line">str.indexOf(<span class="string">''</span>, <span class="number">10</span>); <span class="comment">// 9</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="lastIndexOf-searchString-string-position-number-number"><a href="#lastIndexOf-searchString-string-position-number-number" class="headerlink" title="lastIndexOf(searchString: string, position?: number): number;"></a>lastIndexOf(searchString: string, position?: number): number;</h4></li>
</ul>
<p>lastIndexOf 方法返回调用 String 对象中最后一次出现的指定值的索引，从 position 开始<strong>从右向左</strong>进行搜索。行为和 indexOf 方法一致.</p>
<ul>
<li><h4 id="localeCompare-that-string-number"><a href="#localeCompare-that-string-number" class="headerlink" title="localeCompare(that: string): number;"></a>localeCompare(that: string): number;</h4></li>
</ul>
<p>localeCompare 方法返回一个数字表示是否 引用字符串 在排序中位于 比较字符串 的前面，后面，或者二者相同。</p>
<ul>
<li><p>当 引用字符串 在 比较字符串 前面时返回 -1</p>
</li>
<li><p>当 引用字符串 在 比较字符串 后面时返回 1</p>
</li>
<li><p>相同位置时返回 0</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'something'</span>);</div><div class="line">str.localeCompare(<span class="string">'a'</span>); <span class="comment">// 2 or 1, 不同浏览器可能返回不同的值.</span></div><div class="line">str.localeCompare(<span class="string">'yes'</span>); <span class="comment">// -2 or -1</span></div><div class="line">str.localeCompare(<span class="string">'something'</span>); <span class="comment">// 0</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="match-regexp-string-RegExp-RegExpMatchArray-null"><a href="#match-regexp-string-RegExp-RegExpMatchArray-null" class="headerlink" title="match(regexp: string | RegExp): RegExpMatchArray | null;"></a>match(regexp: string | RegExp): RegExpMatchArray | null;</h4></li>
</ul>
<p>match 方法检索匹配 regexp 的项,如果 regexp 是一个非正则表达式对象,则会隐式地使用 new RegExp(regexp) 将其转换为一个 RegExp .如果没有匹配项,返回 null .</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.match(<span class="regexp">/o/</span>); <span class="comment">// ["o", index: 4, input: "hello world"], 没有 g 标志,返回和 RegExp.exec() 相同的结果</span></div><div class="line">str.match(<span class="string">'o'</span>); <span class="comment">// ["o", index: 4, input: "hello world"]</span></div><div class="line">str.match(<span class="regexp">/o/g</span>); <span class="comment">// ["o", "o"], 有 g 标志,返回一个 Array.</span></div><div class="line">str.match(<span class="regexp">/oo/</span>); <span class="comment">// null</span></div><div class="line">str.match(); <span class="comment">// [""]</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="replace-searchValue-string-RegExp-replaceValue-string-string"><a href="#replace-searchValue-string-RegExp-replaceValue-string-string" class="headerlink" title="replace(searchValue: string | RegExp, replaceValue: string): string;"></a>replace(searchValue: string | RegExp, replaceValue: string): string;</h4></li>
<li><h4 id="replace-searchValue-string-RegExp-replacer-substring-string-…args-any-gt-string-string"><a href="#replace-searchValue-string-RegExp-replacer-substring-string-…args-any-gt-string-string" class="headerlink" title="replace(searchValue: string | RegExp, replacer: (substring: string, …args: any[]) =&gt; string): string;"></a>replace(searchValue: string | RegExp, replacer: (substring: string, …args: any[]) =&gt; string): string;</h4></li>
</ul>
<p>replace 方法返回一个由 replaceValue 替换匹配 searchValue 的一些值后的新字符串.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'Hello World'</span>);</div><div class="line">str.replace(<span class="regexp">/world/i</span>, <span class="string">'Chen'</span>); <span class="comment">// 'Hello Chen', i标志,不区分大小写</span></div><div class="line">str; <span class="comment">// 'Hello World'</span></div><div class="line">str.replace(); <span class="comment">// 'Hello World'</span></div><div class="line">str.replace(<span class="regexp">/world/</span>,<span class="string">'$$'</span>); <span class="comment">// "hello $", $$,特殊变量,插入一个'$'.</span></div><div class="line">str.replace(<span class="regexp">/world/</span>,<span class="string">'$&amp;'</span>); <span class="comment">// "hello world", $&amp;,特殊变量,插入匹配的子串</span></div><div class="line">str.replace(<span class="regexp">/world/</span>,<span class="string">'$`'</span>); <span class="comment">// "hello hello ", $`,特殊变量,插入当前匹配的子串左边的内容</span></div><div class="line">str.replace(<span class="regexp">/world/</span>,<span class="string">"$'"</span>); <span class="comment">// "hello ", $',特殊变量,插入当前匹配的子串右边的内容</span></div><div class="line">str.replace(<span class="regexp">/(\w+)\s(\w+)/</span>,<span class="string">"$2 $1"</span>); <span class="comment">// "world hello", $n,特殊变量,假如第一个参数是 RegExp对象，并且 n 是个小于100的非负整数，那么插入第 n 个括号匹配的字符串</span></div></pre></td></tr></table></figure>
<p>replace 方法还可以指定一个函数作为第二个参数.当匹配执行后,该函数就会执行.(特殊变量不能在函数里使用),如果第一个参数是正则表达式,且为全局匹配(g)模式,那这个方法将多次被调用,每次匹配都会被调用.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.replace(<span class="regexp">/(l)(o)/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match, p1,p2,offset,string</span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(match); <span class="comment">// 'lo', 匹配项</span></div><div class="line">	<span class="built_in">console</span>.log(p1); <span class="comment">// 'l',正则表达式第一个括号匹配的内容</span></div><div class="line">	<span class="built_in">console</span>.log(p2); <span class="comment">// 'o',正则表达式第二个括号匹配的内容</span></div><div class="line">	<span class="built_in">console</span>.log(offset); <span class="comment">// 3,匹配项在原字符串的偏移量</span></div><div class="line">	<span class="built_in">console</span>.log(string); <span class="comment">// 'hello world',原字符串</span></div><div class="line">&#125;); <span class="comment">// 'helundefined world', 函数没有返回值,所以返回 undefined 插入到匹配项.</span></div><div class="line"></div><div class="line">str.replace(<span class="regexp">/(l)(o)/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match, p1,p2</span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> [p1, p2].join(<span class="string">'-'</span>);</div><div class="line">&#125;); <span class="comment">// "hell-o world"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> count = <span class="number">0</span>;</div><div class="line">str.replace(<span class="regexp">/(lo)|(ld)/g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">match, p1, p2</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(match); </div><div class="line">	<span class="keyword">if</span>(p1) <span class="built_in">console</span>.log(p1); </div><div class="line">	<span class="keyword">if</span>(p2) <span class="built_in">console</span>.log(p2);</div><div class="line">    count++;</div><div class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;count&#125;</span>`</span>;</div><div class="line">&#125;); </div><div class="line"><span class="comment">// "lo", match</span></div><div class="line"><span class="comment">// "lo", p1</span></div><div class="line"><span class="comment">// "ld", match</span></div><div class="line"><span class="comment">// "ld", p2</span></div><div class="line"><span class="comment">// "hel1 wor2", 全局匹配, replacer 被调用了两次.</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="split-separator-string-RegExp-limit-number-string"><a href="#split-separator-string-RegExp-limit-number-string" class="headerlink" title="split(separator: string | RegExp, limit?: number): string[];"></a>split(separator: string | RegExp, limit?: number): string[];</h4></li>
</ul>
<p>split 方法将一个String对象分割成字符串数组，将字符串分成子串.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.split(); <span class="comment">// ["hello world"]</span></div><div class="line">str.split(<span class="string">''</span>); <span class="comment">// ["h", "e", "l", "l", "o", " ", "w", "o", "r", "l", "d"]</span></div><div class="line">str.split(<span class="string">''</span>, <span class="number">5</span>); <span class="comment">// ["h", "e", "l", "l", "o"]</span></div><div class="line">str.split(<span class="string">' '</span>); <span class="comment">// ["hello", "world"]</span></div><div class="line">str.split(<span class="string">'l'</span>); <span class="comment">// ["he", "", "o wor", "d"], 如果满足分割规则的两个部分紧邻着（即中间没有其他字符），则返回数组之中会有一个空字符串.</span></div><div class="line">str.split(<span class="regexp">/o/</span>); <span class="comment">// ["hell", " w", "rld"]</span></div><div class="line">str.split(<span class="regexp">/(o)/</span>); <span class="comment">// ["hell", "o", " w", "o", "rld"], 存在捕获括号时,匹配结果会包含在返回的数组中.</span></div><div class="line">str; <span class="comment">// 'hello world'</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="slice-start-number-end-number-string"><a href="#slice-start-number-end-number-string" class="headerlink" title="slice(start?: number, end?: number): string;"></a>slice(start?: number, end?: number): string;</h4></li>
</ul>
<p>slice 方法从一个字符串中<strong>从左向右</strong>提取字符串并返回新的字符串,不会改变原字符串.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.slice(); <span class="comment">// "hello world"</span></div><div class="line">str.slice(<span class="number">1</span>); <span class="comment">// "ello world"</span></div><div class="line">str.slice(<span class="number">-1</span>); <span class="comment">// "d"</span></div><div class="line">str.slice(<span class="number">1</span>,<span class="number">4</span>); <span class="comment">// "ell"</span></div><div class="line">str.slice(<span class="number">1</span>,<span class="number">-4</span>); <span class="comment">// "ello w", 从第二个字符到倒数第五个</span></div><div class="line">str.slice(<span class="number">-6</span>,<span class="number">-4</span>); <span class="comment">// " w", 从倒数第七个字符开始到倒数第五个</span></div><div class="line">str.slice(<span class="number">-1</span>,<span class="number">4</span>); <span class="comment">// ""</span></div><div class="line">str; <span class="comment">// "hello world"</span></div><div class="line">str.slice(<span class="string">'a'</span>); <span class="comment">// "hello world", start 会强制转换为数字, 这里等同于 str.slice(NaN)</span></div><div class="line">str.slice(<span class="string">'5'</span>); <span class="comment">// " world"</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="substring-start-number-end-number-string"><a href="#substring-start-number-end-number-string" class="headerlink" title="substring(start: number, end?: number): string;"></a>substring(start: number, end?: number): string;</h4></li>
</ul>
<p>substring 方法返回一个字符串在开始索引到结束索引之间的一个子集, 或从开始索引直到字符串的末尾的一个子集.类似 slice 方法,略有不同.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.substring(); <span class="comment">// "hello world"</span></div><div class="line">str.substring(<span class="number">1</span>); <span class="comment">// "ello world"</span></div><div class="line">str.substring(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// "", 如果 start 等于 end, 返回一个空字符串</span></div><div class="line">str.substring(<span class="number">-1</span>); <span class="comment">// "hello world"</span></div><div class="line">str.substring(<span class="number">1</span>,<span class="number">4</span>); <span class="comment">// "ell"</span></div><div class="line">str.substring(<span class="number">4</span>,<span class="number">1</span>); <span class="comment">// "ell", == str.substring(1, 4)</span></div><div class="line">str.substring(<span class="number">-1</span>, <span class="number">-4</span>); <span class="comment">// "", 如果任一参数小于 0 或为 NaN，则被当作 0</span></div><div class="line">str; <span class="comment">// "hello world"</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="substr-from-number-length-number-string"><a href="#substr-from-number-length-number-string" class="headerlink" title="substr(from: number, length?: number): string;"></a>substr(from: number, length?: number): string;</h4></li>
</ul>
<p>substr 方法和 slice 方法类似,区别是 substr 第二个参数是指截取的长度.此方法不兼容上古 IE .</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.substr(); <span class="comment">// "hello world"</span></div><div class="line">str.substr(<span class="number">1</span>); <span class="comment">// "ello world"</span></div><div class="line">str.substr(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// "e"</span></div><div class="line">str.substr(<span class="number">0</span>, <span class="number">6</span>); <span class="comment">// "hello "</span></div><div class="line">str.substr(<span class="number">-1</span>, <span class="number">1</span>); <span class="comment">// "d", 从倒数第一个开始,截取长度为1的字符串返回</span></div><div class="line">str.substr(<span class="number">-20</span>, <span class="number">1</span>); <span class="comment">// "h", 如果 from 为负值且 abs(from) 大于字符串的长度，则 substr 使用 0 作为开始提取的索引</span></div><div class="line">str.substr(<span class="number">-20</span>, <span class="number">-1</span>); <span class="comment">// "", length 为 0 或 -1 则返回一个空字符串.</span></div><div class="line">str; <span class="comment">// "hello world"</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="toLowerCase-string"><a href="#toLowerCase-string" class="headerlink" title="toLowerCase(): string;"></a>toLowerCase(): string;</h4></li>
<li><h4 id="toUpperCase-string"><a href="#toUpperCase-string" class="headerlink" title="toUpperCase(): string;"></a>toUpperCase(): string;</h4></li>
</ul>
<p>toLowerCase 方法转小写, toUpperCase 转大写.</p>
<ul>
<li><h4 id="trim-string"><a href="#trim-string" class="headerlink" title="trim(): string;"></a>trim(): string;</h4></li>
</ul>
<p>trim 方法删除一个字符串的两端空白符,返回一个新的字符串,不会影响原字符串.</p>
<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><ul>
<li><h4 id="includes-searchString-string-position-number-boolean"><a href="#includes-searchString-string-position-number-boolean" class="headerlink" title="includes(searchString: string, position?: number): boolean;"></a>includes(searchString: string, position?: number): boolean;</h4></li>
</ul>
<p>includes 方法判断 searchString 是否存在于原字符串中.区分大小写.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.includes(<span class="string">'Hello'</span>); <span class="comment">// false, 区分大小写</span></div><div class="line">str.includes(<span class="string">'he'</span>)；<span class="comment">// true</span></div><div class="line">str.includes(<span class="string">'he'</span>, <span class="number">1</span>); <span class="comment">// false, 从第二个位置开始找</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="startsWith-searchString-string-position-number-boolean"><a href="#startsWith-searchString-string-position-number-boolean" class="headerlink" title="startsWith(searchString: string, position?: number): boolean;"></a>startsWith(searchString: string, position?: number): boolean;</h4></li>
</ul>
<p>startsWith 方法判断 searchString 是否是给定字符串为开头的.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.startsWith(<span class="string">'Hello'</span>); <span class="comment">// false, 区分大小写</span></div><div class="line">str.startsWith(<span class="string">'hello'</span>)；<span class="comment">// true</span></div><div class="line">str.startsWith(<span class="string">'world'</span>, <span class="number">6</span>); <span class="comment">// true</span></div></pre></td></tr></table></figure>
<ul>
<li><h4 id="repeat-count-number-string"><a href="#repeat-count-number-string" class="headerlink" title="repeat(count: number): string;"></a>repeat(count: number): string;</h4></li>
</ul>
<p>repeat 方法返回一个被连接在一起的指定数量(count)的字符串的副本.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'hello world'</span>);</div><div class="line">str.repeat(<span class="number">0</span>); <span class="comment">// false, 区分大小写</span></div><div class="line">str.repeat(<span class="number">2</span>); <span class="comment">// "hello worldhello world"</span></div><div class="line">str.repeat(<span class="number">-1</span>); <span class="comment">// RangeError: Invalid count value, count 不能为负数,且必须小于 Infinity,且长度不会大于最长的字符串</span></div><div class="line">str.repeat(<span class="number">3.6</span>); <span class="comment">// "hello worldhello worldhello world", count 自动转换成整数</span></div></pre></td></tr></table></figure>
<p>参考资料:</p>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="external">MDN</a></li>
<li><a href="https://github.com/Microsoft/TypeScript/blob/master/lib/lib.es5.d.ts" target="_blank" rel="external">TypeScript Github</a></li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2017/03/17/jsTips/" class="next">下一篇</a></div><div data-thread-key="2017/07/10/string/" data-title="String 踩坑" data-url="http://hentaicracker.com/2017/07/10/string/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"hentaicracker"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 - 2017 <a href="http://hentaicracker.com">Jason Chen</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-84370929-1",'auto');ga('send','pageview');</script></body></html>